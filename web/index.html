<html>
        <head>
                <script src="jslib/config.js"></script>
                <script src="jslib/image.js"></script>
                <script src="jslib/view.js"></script>
                <script src="jslib/SFS2X_API_JS.js"></script>
                <script src="jslib/smartfox/smartfox.js"></script>
                <script src="jslib/smartfox/room.js"></script>
                <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
        </head>
        <body id="body" style="overflow:hidden;background-color:black;margin:0;padding:0;">
                <div id="root" style="position:absolute;width : 100%;height : 100%;"></div>
                <div class="emscripten_border" style="position:absolute;width : 100%; height:100%;">
                        <canvas class="emscripten" id="canvas" style="position:absolute;" oncontextmenu="event.preventDefault()" ontouchmove="event.preventDefault()"></canvas>
                </div>
                <!-- <div style="position:absolute;font-size:24px;top:140px;">Every</div> -->
                <img src="v1/res/images/macao/table-poker.png" style="position:absolute;width:50%;top:27.5%"/>

                <script type='text/javascript'>
                        var Module = {
                                preRun: [],
                                postRun: [],
                                print: (function() {
                                        return function(text) {
                                                console.log(text);
                                        };
                                })(),
                                printErr: function(text) {
                                        console.error(text);
                                },
                                canvas: (function() {
                                        var canvas = document.getElementById('canvas');

                                        // As a default initial behavior, pop up an alert when webgl context is lost. To make your
                                        // application robust, you may want to override this behavior before shipping!
                                        // See http://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15.2
                                        canvas.addEventListener("webglcontextlost", function(e) { alert('WebGL context lost. You will need to reload the page.'); e.preventDefault(); }, false);

                                        return canvas;
                                })(),
                                setStatus: function(text) {
                                },
                                totalDependencies: 0,
                                monitorRunDependencies: function(left) {
                                        if(left == 0) {
                                        }
                                }
                        };
                        window.onerror = function(event) {

                        };
                </script>
                <script>

                        (function() {
                                var memoryInitializer = 'macao.html.mem';
                                if (typeof Module['locateFile'] === 'function') {
                                        memoryInitializer = Module['locateFile'](memoryInitializer);
                                } else if (Module['memoryInitializerPrefixURL']) {
                                        memoryInitializer = Module['memoryInitializerPrefixURL'] + memoryInitializer;
                                }
                                var xhr = Module['memoryInitializerRequest'] = new XMLHttpRequest();
                                xhr.open('GET', memoryInitializer, true);
                                xhr.responseType = 'arraybuffer';
                                xhr.send(null);
                        })();

                        var script = document.createElement('script');
                        script.src = "macao.js";
                        document.body.appendChild(script);
                        /*
                         * body margin has to be 0.5 to prevent blurry-effect on IOS's browsers
                         */
                        document.getElementById("body").style["margin"] = "0.5";

                        /*
                         * resize game on window size changed
                         */
                        window.addEventListener('resize', function(event){
                                if( _macao_resize != undefined && _macao_resize != null) {
                                        var root = document.getElementById("root");
                                        var cv = document.getElementById("canvas");
                                        var w = root.offsetWidth;
                                        var h = root.offsetHeight;
                                        var sf = window.devicePixelRatio || 1;
                                        cv.width = w * sf;
                                        cv.height = h * sf;
                                        cv.style.width = w + "px";
                                        cv.style.height = h + "px";
                                        _macao_resize(w * sf, h * sf);
                                }
                        });

                </script>
        </body>
</html>
